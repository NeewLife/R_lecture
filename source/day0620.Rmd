---
title: "2022-06-20메모(3장,4장)"
output: html_document
date: '2022-06-20'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# 3장
- 벡터의 종류
(숫자형, 정수형, 문자형, 범주형, 논리형) 벡터가 존재한다.
-범주형 벡터 : 행렬과 비슷한 형태, 연산은 안된다.
ex) 성별:남자, 여자 / 연령대:청년, 중년, 고령 의 범주를 만들어서 남자청년, 여자중년 등의 값을 만들어내는 벡터
-논리형 벡터 : 참(TRUE), 거짓(FALSE)이라는 논리값으로 구성된 데이터. 논리값은 '," 없이 대문자로 쓴다.

-벡터 종류 확인
```{r}
a<-c(1,2,"유형","확인")
a
class(a)
```

-숫자형 벡터
```{r}
a<-1
a
```
[1]은 데이터의 위치가 벡터 중 첫 번째 라는 것을 의미

-복수의 숫자 벡터
```{r}
a<-c(1,2,3)
a
```

-문자형 벡터
```{r}
a<-"Hello"
a
```
```{r}
a<-"1"
a
```
여기서 1은 '숫자형'이 아닌 '문자형'이다

-복수의 문자형 벡터
```{r}
a<-c("Hi","Hello")
a
```

-숫자 + 문자 벡터(문자형 벡터로 출력)
```{r}
a<-c(1,2,"Hello")
a
```
```{r}
a<-c(1,"1")
a
```
마찬가지로 1, "1" 둘다 문자형으로 출력

```{r}
a <- c(1,2,TRUE,FALSE)
a
```
숫자형 + 논리형 벡터라면 숫자형 으로 출력된다.

-범주형 벡터
```{r}
a<-factor(c(1,2,1,2,3))
a
```
1,2,3의 Level이 들어간 범주형 벡터 이다.

-벡터 만들기
```{r}
no <- c(1,2,3,4,5)
sex <- c("male","female","male","male","female")
korean <- c(87,92,95,81,87)

exam_a <- data.frame(no,sex,korean)
exam_a
```

-data.frame() 에서 한번에 만들기
```{r}
exam_b <- data.frame(no=c(1,2,3,4,5),
                    sex=c("male","female","male","male","female"),
                    korean=c(87,92,95,81,87))
exam_b
```

-열 추가하기
```{r}
science <- c(82,93,90,80,88) #science벡터 만들기
exam_c <- data.frame(no, sex, korean, science) #science 변수 추가
exam_c
```

-데이터의 위치 : 객체 이름[행,열]
```{r}
exam_c[2,3] #exam_c 데이터에서 2행(2),3열(korean)의 값을 출력
```
```{r}
exam_c[2,"science"] #열의 색인번호 대신 이름을 쓴 경우
```

-복수 데이터 출력
```{r}
exam_c[c(4,5),c(2,3)] #(4,5번 학생)의 (성별,국어성적)을 출력
```

-전체 행, 열의 데이터 출력
```{r}
exam_c[3,] #[3번 학생]의 모든 정보 출력
```
```{r}
exam_c[,4] #모든 [science] 성적 출력
```

-연속 데이터 출력
```{r}
exam_c[c(1:3,5),c(2,3)] #(1,2,3,5번 학생)의 (성별,국어성적)을 출력

```

-필요없는 데이터 제거
```{r}
exam_c[c(-4,-5),-2] #(4,5번 학생을 제외한) 학생들의 (성별을 제외한) 벡터 값 출력
```
```{r}
exam_c[-c(4,5),-2] #c 앞에 -를 붙여도 된다.
```

-특정 변수 출력
```{r}
exam_c$science #science 값 출력
```
```{r}
str(exam_c) #데이터의 모든 유형 확인가능
```

```{r}
num_vector = c(1, 2, 3)
num_vector2 = c(5, 6, 7)

num_vector[1] + num_vector2[2]
#num_vector의 1번째 + num_vector2의 2번째 (즉, 1+6)
```

# 명목형 자료형 Factor
locaiton_vector <- c("서울", "인천", "부산")
factor_location_vector <- factor(locaiton_vector)
factor_location_vector

class(factor_location_vector)
help(factor)

# 순서형 자료형 Factor
temperature_factor <- c("기온높음", 
                        "기온보통", 
                        "기온낮음", 
                        "기온높음", 
                        "기온보통", 
                        "기온보통")

temperature_factor

factor_temperature_factor <- factor(temperature_factor, 
                                    ordered = TRUE, 
                                    levels  = c("기온보통", 
                                                "기온낮음", 
                                                "기온높음"))


## 데이터 프레임
# - 엑셀 데이터
no = c(1,2,3,4,5)
sex = c("male", "female", "male","male", "female")
korean = c(87,92,95,81,87)


exam = data.frame(no, sex, korean)
exam


exam$no[1]
exam$sex[2]

# 데이터 타입
class(exam$sex)
class(exam$no)

str(exam)



#4장
- 데이터 내보내기 & 불러오기
- 경로
getwd() : 현재 지정된 디렉토리 보기


# 데이터 불러오기

```{r}
#temp = read.csv("exam.csv")
#temp = read.csv("Desktop/dataset/exam.csv")
#현재 디렉토리 확인하기
```

# p.51
- R에서 예제파일 exam.csv를 객체 exam으로 입력해서 설명함.
```{r}
#exam = read.csv("exam.csv")
#"exam.csv" 파일을 불러오기
```

-ggplot2 설치
```{r}
#install.packages("ggplot2")
#library(ggplot2)           #ggplot2 패키지를 사용한다.
```
-ggplot2에 있는 economics를 불러오는 것
```{r}
economics <- ggplot2::economics 
#새 객체 economics에 economics데이터를 입력
```

-data.table 패키지 설치
```{r}
#install.packages("data.table")
#library(data.table)
```


```{r}
install.packages("readxl")
library(readxl)
#엑셀 패키지 다운로드
```
```{r}
read_excel("student1_xl.xlsx")
# 엑셀 파일 불러오기
```

- p.68 설명

```{r}
read.csv("student1.csv")
#첫 줄을 제외하지 않고 불러온 경우
read.csv("student1.csv", skip = 1)
#첫 줄을 제외하고 불러온 경우
```

- 엑셀 파일에 있는 복수의 시트에서 특정 시트 불러오기
```{r}
read_excel("student_xl.xlsx") 
#첫 번째 시트 불러오기
read_excel("student1_xl.xlsx", sheet=2) 
#두 번째 시트 불러오기
```



# p.69 txt 파일 불러오기
```{r}
read.table("student1.txt")
#txt 파일 불러오기
```


# p.73 SPSS 파일 불러오기

```{r}
install.packages("foreign")
library(foreign)
student <- read.spss("student.sav")
#student라는 변수에 "student.sav" 파일을 불러온다.
as.data.frame(student) 
#형변환
```

?write.csv : "write.csv"의 함수에 대한 도움말

```{r}
write.csv(x = exam, file = "exam.csv")
#"exam" 데이터를 "exam.csv"로 저장한다.
```